import{h as L,j as e,C as D,n as X,d as K,e as B,f as q,B as d,g as E,p as ge,P as re,q as _,s as ce,t as ee,u as de,l as we,k as x,v as be,r as b,i as Ce,I as Pe,R as Re,w as Q,x as $,y as te,z as pe,A as Y,E as ke,G as Te,H as De,J as xe,K as Ee,L as Ie,M as he,T as Se,a as Ae,b as ie,N as Fe,c as ne}from"./index-CAyDHNzl.js";import{F as He}from"./file-spreadsheet-J6CVGZPo.js";import{A as Me,a as Z,b as J,c as W}from"./accordion-Bkox8oVz.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=L("ArrowDownAZ",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=L("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=L("CaseSensitive",[["path",{d:"m3 15 4-8 4 8",key:"1vwr6u"}],["path",{d:"M4 13h6",key:"1r9ots"}],["circle",{cx:"18",cy:"12",r:"3",key:"1kchzo"}],["path",{d:"M21 9v6",key:"anns31"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=L("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=L("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=L("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=L("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=L("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=L("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=L("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);var Ne=(s=>(s.FHIR="FHIR",s.PHR="PHR",s.PATIENT_DIRECTORY="Patient Directory",s.PROVIDER_DIRECTORY="Provider Directory",s.USER_DIRECTORY="User Directory",s.ORGANIZATION_DIRECTORY="Organization Directory",s.CARE_EVENT="Care Event",s.CLAIMS="Claims",s.PRIOR_AUTH="Prior Authorization",s.CONSENT="Consent",s.BILLING="Billing",s.ANALYTICS="Analytics",s.INTEGRATION="Integration",s.NETWORK="Network",s.SECURITY="Security",s.COMPLIANCE="Compliance",s))(Ne||{}),ve=(s=>(s.FUNCTIONAL="Functional",s.INTEGRATION="Integration",s.PERFORMANCE="Performance",s.SECURITY="Security",s.COMPLIANCE="Compliance",s.UI="UI",s.ACCESSIBILITY="Accessibility",s.API="API",s.DATABASE="Database",s))(ve||{}),ye=(s=>(s.CRITICAL="Critical",s.HIGH="High",s.MEDIUM="Medium",s.LOW="Low",s))(ye||{}),i=(s=>(s.PENDING="PENDING",s.RUNNING="RUNNING",s.PASSED="PASSED",s.FAILED="FAILED",s.SKIPPED="SKIPPED",s.ERROR="ERROR",s))(i||{});function Be({suite:s,isSelected:l,onToggleSelect:h,onRunSuite:o,onViewResults:v,onEditSuite:u,onDeleteSuite:P,lastRunStatus:m}){const{id:N,name:k,description:H,tags:j=[],testCases:R,createdAt:O}=s,f=R.length,T=R.filter(g=>g.automated).length,I=f>0?Math.round(T/f*100):0,n=m&&Object.keys(m).length>0;let t=0,r=0,y=0,S=0,A=0;n&&R.forEach(g=>{const F=m==null?void 0:m[g.id];F===i.PASSED?t++:F===i.FAILED?r++:F===i.PENDING?y++:F===i.SKIPPED?S++:F===i.ERROR&&A++});const V=t>0||r>0||y>0||S>0||A>0,C=f>0?Math.round(t/f*100):0;let z="";return l?z="border-primary":V&&(r>0||A>0?z="border-red-300":t===f?z="border-green-300":y>0&&(z="border-amber-300")),e.jsxs(D,{className:X("cursor-pointer transition-all hover:shadow-md",z,l&&"ring-2 ring-primary"),onClick:h,children:[e.jsx(K,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(B,{className:"text-lg flex items-center gap-2",children:[k,T>0&&e.jsx(le,{className:"h-4 w-4 text-primary",title:`${T} automated tests`})]}),e.jsx(q,{className:"line-clamp-2 mt-1",children:H})]}),l&&e.jsx(d,{variant:"outline",className:"bg-primary/10",children:"Selected"})]})}),e.jsx(E,{className:"pb-2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Test Cases:"})]}),e.jsx("span",{className:"font-medium",children:f})]}),f>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3 text-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"Automation Rate"})]}),e.jsxs("span",{children:[I,"%"]})]}),e.jsx(re,{value:I,className:"h-1.5 bg-secondary",indicatorClassName:"bg-primary"})]}),V&&e.jsxs("div",{className:"space-y-2 pt-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("div",{className:"space-x-4 flex",children:[t>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-3 w-3 text-green-500"}),t]}),r>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ce,{className:"h-3 w-3 text-red-500"}),r]}),y>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-3 w-3 text-amber-500"}),y]}),S>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(de,{className:"h-3 w-3 text-blue-500"}),S]})]}),e.jsxs("span",{className:"text-muted-foreground",children:["Pass rate: ",C,"%"]})]}),e.jsx(re,{value:C,className:"h-1.5 bg-secondary",indicatorClassName:X(C>=90?"bg-green-500":C>=70?"bg-amber-500":"bg-red-500")})]}),j.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 pt-1",children:[j.slice(0,3).map((g,F)=>e.jsxs(d,{variant:"secondary",className:"text-xs py-0 h-5",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1"}),g]},F)),j.length>3&&e.jsxs(d,{variant:"secondary",className:"text-xs py-0 h-5",children:["+",j.length-3," more"]})]})]})}),e.jsxs(we,{className:"flex justify-between pt-2",children:[e.jsxs("div",{className:"flex gap-1.5",children:[o&&e.jsxs(x,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),o()},className:"h-8 px-2.5 text-xs",children:[e.jsx(ze,{className:"h-3.5 w-3.5 mr-1.5"}),"Run"]}),v&&n&&e.jsxs(x,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),v()},className:"h-8 px-2.5 text-xs",children:[e.jsx(He,{className:"h-3.5 w-3.5 mr-1.5"}),"Results"]})]}),e.jsxs("div",{className:"flex gap-1.5",children:[u&&e.jsx(x,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),u()},className:"h-8 w-8 p-0",children:e.jsx(Ue,{className:"h-3.5 w-3.5"})}),P&&e.jsx(x,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),P()},className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:e.jsx(be,{className:"h-3.5 w-3.5"})})]})]})]})}function qe({testSuites:s,selectedSuites:l,setSelectedSuites:h,selectedComponent:o,setSelectedComponent:v,selectedCategory:u,setSelectedCategory:P,selectedSeverity:m,setSelectedSeverity:N,showPassed:k,setShowPassed:H,showFailed:j,setShowFailed:R,showSkipped:O,setShowSkipped:f,onlyAutomated:T,setOnlyAutomated:I}){const[n,t]=b.useState(""),r=new Set,y=new Set,S=new Set;s.forEach(a=>{a.testCases.forEach(p=>{p.component&&r.add(p.component),p.category&&y.add(p.category),p.severity&&S.add(p.severity)})});const A=r.size>0?Array.from(r):Object.values(Ne),V=y.size>0?Array.from(y):Object.values(ve),C=S.size>0?Array.from(S):Object.values(ye),z=()=>{t(""),v(null),P(null),N(null),I(!1),H(!0),R(!0),f(!0)},g=()=>{console.log("Refreshing tests...")},F=a=>{v(o===a?null:a)},c=a=>{P(u===a?null:a)},w=a=>{N(m===a?null:a)},G=a=>{l.includes(a)?h(l.filter(p=>p!==a)):h([...l,a])};return e.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ce,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(Pe,{type:"text",placeholder:"Search tests by name or description...",className:"pl-9",value:n,onChange:a=>t(a.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:g,variant:"outline",size:"icon",className:"h-10 w-10",children:e.jsx(Re,{className:"h-4 w-4"})}),e.jsx(x,{onClick:z,variant:"outline",size:"sm",className:"h-10",children:"Clear Filters"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[e.jsx(Q,{id:"automation-filter",checked:T,onCheckedChange:I}),e.jsx($,{htmlFor:"automation-filter",children:"Automated only"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[e.jsx(Q,{id:"passed-filter",checked:k,onCheckedChange:H}),e.jsx($,{htmlFor:"passed-filter",children:"Show Passed"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[e.jsx(Q,{id:"failed-filter",checked:j,onCheckedChange:R}),e.jsx($,{htmlFor:"failed-filter",children:"Show Failed"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{id:"skipped-filter",checked:O,onCheckedChange:f}),e.jsx($,{htmlFor:"skipped-filter",children:"Show Skipped"})]})]}),e.jsxs(Me,{type:"multiple",className:"w-full",children:[e.jsxs(Z,{value:"suites",children:[e.jsx(J,{className:"text-sm font-medium py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Test Suites",l.length>0&&e.jsx(d,{variant:"outline",className:"ml-2",children:l.length})]})}),e.jsx(W,{children:e.jsx("div",{className:"grid grid-cols-1 gap-2 pt-2",children:s.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{id:`suite-${a.id}`,checked:l.includes(a.id),onCheckedChange:()=>G(a.id)}),e.jsx($,{htmlFor:`suite-${a.id}`,className:"text-sm cursor-pointer",children:a.name})]},a.id))})})]}),e.jsxs(Z,{value:"components",children:[e.jsx(J,{className:"text-sm font-medium py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),"Filter by Component",o&&e.jsx(d,{variant:"outline",className:"ml-2",children:"1"})]})}),e.jsx(W,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 pt-2",children:A.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{id:`component-${a}`,checked:o===a,onCheckedChange:()=>F(a)}),e.jsx($,{htmlFor:`component-${a}`,className:"text-sm cursor-pointer",children:a})]},a))})})]}),e.jsxs(Z,{value:"categories",children:[e.jsx(J,{className:"text-sm font-medium py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Filter by Category",u&&e.jsx(d,{variant:"outline",className:"ml-2",children:"1"})]})}),e.jsx(W,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 pt-2",children:V.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{id:`category-${a}`,checked:u===a,onCheckedChange:()=>c(a)}),e.jsx($,{htmlFor:`category-${a}`,className:"text-sm cursor-pointer",children:a})]},a))})})]}),e.jsxs(Z,{value:"severities",children:[e.jsx(J,{className:"text-sm font-medium py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"Filter by Severity",m&&e.jsx(d,{variant:"outline",className:"ml-2",children:"1"})]})}),e.jsx(W,{children:e.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:C.map(a=>{const p=m===a;let M="bg-secondary text-secondary-foreground hover:bg-secondary/80";if(p)switch(a){case"Critical":M="bg-red-500 text-white hover:bg-red-600";break;case"High":M="bg-orange-500 text-white hover:bg-orange-600";break;case"Medium":M="bg-amber-500 text-white hover:bg-amber-600";break;case"Low":M="bg-blue-500 text-white hover:bg-blue-600";break}return e.jsx(d,{className:`cursor-pointer ${M}`,onClick:()=>w(a),children:a},a)})})})]})]}),(o||u||m||T||!k||!j||!O||l.length>0)&&e.jsxs("div",{className:"pt-2",children:[e.jsxs("div",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Active Filters:"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.map(a=>{const p=s.find(M=>M.id===a);return e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Suite: ",(p==null?void 0:p.name)||a,e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>G(a),children:"×"})]},a)}),o&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Component: ",o,e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>v(null),children:"×"})]}),u&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Category: ",u,e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>P(null),children:"×"})]}),m&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Severity: ",m,e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>N(null),children:"×"})]}),T&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Automated Only",e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>I(!1),children:"×"})]}),!k&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Hide Passed",e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>H(!0),children:"×"})]}),!j&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Hide Failed",e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>R(!0),children:"×"})]}),!O&&e.jsxs(d,{variant:"secondary",className:"flex gap-1 items-center",children:["Hide Skipped",e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 text-muted-foreground hover:text-foreground",onClick:()=>f(!0),children:"×"})]})]})]})]})}function Ye({run:s,testSuites:l,showPassed:h,showFailed:o,showSkipped:v}){const[u,P]=b.useState([]),[m,N]=b.useState(!1),k={};l.forEach(n=>{var t;((t=s.suiteIds)!=null&&t.includes(n.id)||s.suiteId===n.id)&&n.testCases.forEach(r=>{k[r.id]=r})});const H=n=>{P(t=>t.includes(n)?t.filter(r=>r!==n):[...t,n])},j={total:Object.keys(s.results).length,passed:Object.values(s.results).filter(n=>n.status===i.PASSED).length,failed:Object.values(s.results).filter(n=>n.status===i.FAILED).length,skipped:Object.values(s.results).filter(n=>n.status===i.SKIPPED).length,running:Object.values(s.results).filter(n=>n.status===i.RUNNING).length,pending:Object.values(s.results).filter(n=>n.status===i.PENDING).length,error:Object.values(s.results).filter(n=>n.status===i.ERROR).length},R=j.passed+j.failed+j.skipped+j.error,O=s.inProgress?R/j.total*100:100,f=Object.entries(s.results).filter(([n,t])=>!(t.status===i.PASSED&&!h||t.status===i.FAILED&&!o||t.status===i.SKIPPED&&!v)),T=n=>{switch(n){case i.PASSED:return e.jsx(_,{className:"h-5 w-5 text-green-500"});case i.FAILED:return e.jsx(ce,{className:"h-5 w-5 text-red-500"});case i.SKIPPED:return e.jsx(De,{className:"h-5 w-5 text-amber-500"});case i.ERROR:return e.jsx(de,{className:"h-5 w-5 text-red-500"});case i.RUNNING:return e.jsx(Y,{className:"h-5 w-5 text-blue-500 animate-spin"});case i.PENDING:default:return e.jsx(ee,{className:"h-5 w-5 text-gray-400"})}},I=n=>{let t="outline",r=n;switch(n){case i.PASSED:t="default",r="Passed";break;case i.FAILED:case i.ERROR:t="destructive",r=n===i.FAILED?"Failed":"Error";break;case i.RUNNING:t="secondary",r="Running";break;case i.SKIPPED:t="outline",r="Skipped";break;case i.PENDING:t="outline",r="Pending";break}return e.jsx(d,{variant:t,children:r})};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold",children:["Test Run: ",s.id]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(s.startTime).toLocaleString(),s.endTime&&` • Completed: ${new Date(s.endTime).toLocaleString()}`]})]}),!s.inProgress&&s.summary&&e.jsxs("div",{className:"flex items-center space-x-2 mt-2 md:mt-0",children:[e.jsxs("span",{className:"text-green-500 font-semibold",children:[s.summary.passed," passed"]}),e.jsxs("span",{className:"text-red-500 font-semibold",children:[s.summary.failed," failed"]}),e.jsxs("span",{className:"text-muted-foreground",children:["in ",(s.summary.duration/1e3).toFixed(1),"s"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[s.inProgress?e.jsx(Y,{className:"h-4 w-4 mr-2 animate-spin text-blue-500"}):e.jsx(_,{className:"h-4 w-4 mr-2 text-green-500"}),e.jsx("span",{className:"text-sm",children:s.inProgress?`Running tests: ${R} of ${j.total} complete`:"Test run complete"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.toFixed(0),"%"]})]}),e.jsx(re,{value:O,className:"h-2"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>N(!m),className:"text-xs",children:m?"Hide Details":"Show Details"}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>P(u.length===Object.keys(s.results).length?[]:Object.keys(s.results)),className:"text-xs",children:u.length===Object.keys(s.results).length?"Collapse All":"Expand All"})]})]}),f.length>0?e.jsx("div",{className:"space-y-3",children:f.map(([n,t])=>{const r=k[n],y=u.includes(n);return r?e.jsx(D,{className:"border",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between cursor-pointer",onClick:()=>H(n),children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"pt-1 mr-3",children:T(t.status)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.jsx(d,{variant:"outline",className:"text-xs",children:r.component}),e.jsx(d,{variant:"outline",className:"text-xs",children:r.category}),e.jsx(d,{variant:"outline",className:"text-xs",children:r.severity})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[I(t.status),y?e.jsx(ke,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(Te,{className:"h-5 w-5 text-muted-foreground"})]})]}),y&&e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Status:"})," ",t.status]}),t.duration!==void 0&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",(t.duration/1e3).toFixed(2),"s"]})]}),t.message&&e.jsxs("div",{className:"mb-2 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Message:"})," ",t.message]}),t.assertionsTotal!==void 0&&e.jsxs("div",{className:"mb-2 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Assertions:"})," ",e.jsxs("span",{className:"text-green-500",children:[t.assertionsPassed," passed"]}),t.assertionsFailed>0&&e.jsxs("span",{className:"text-red-500 ml-2",children:[t.assertionsFailed," failed"]}),e.jsxs("span",{className:"text-muted-foreground ml-2",children:["(total: ",t.assertionsTotal,")"]})]}),m&&t.details&&e.jsx("div",{className:"mt-3 p-3 bg-muted rounded-md text-xs font-mono overflow-x-auto",children:e.jsx("pre",{children:JSON.stringify(t.details,null,2)})})]})]})},n):e.jsx(D,{className:"border",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[T(t.status),e.jsxs("span",{className:"ml-2 font-medium",children:["Unknown Test: ",n]})]}),I(t.status)]})})},n)})}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(pe,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{children:"No test results match the current filters"}),e.jsxs(x,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{},children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})]})]})}function _e({totalSuites:s,totalTests:l,automatedTests:h,passedTests:o,failedTests:v,skippedTests:u,pendingTests:P}){const m=l>0?Math.round(h/l*100):0,N=o+v>0?Math.round(o/(o+v)*100):0,k=o+v+u;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(D,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Test Suites"}),e.jsx(ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("span",{className:"text-2xl font-bold",children:s}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l," Test Cases"]})]})]})})}),e.jsx(D,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Automation Rate"}),e.jsx(le,{className:"h-4 w-4 text-primary"})]}),e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[m,"%"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[h," / ",l," Automated"]})]}),e.jsx("div",{className:"w-full bg-secondary h-1.5 rounded-full mt-2",children:e.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${m}%`}})})]})})}),e.jsx(D,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Pass Rate"}),e.jsx(_,{className:"h-4 w-4 text-green-500"})]}),e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsxs("span",{className:X("text-2xl font-bold",N>=90?"text-green-500":N>=70?"text-amber-500":N>0?"text-red-500":""),children:[N,"%"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[k," / ",l," Executed"]})]}),e.jsx("div",{className:"w-full bg-secondary h-1.5 rounded-full mt-2",children:e.jsx("div",{className:X("h-1.5 rounded-full",N>=90?"bg-green-500":N>=70?"bg-amber-500":"bg-red-500"),style:{width:`${N}%`}})})]})})}),e.jsx(D,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Test Results"}),e.jsx("span",{className:"flex items-center space-x-2",children:e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:o}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Passed"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4 text-red-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:v}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Failed"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:u}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Skipped"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-amber-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:P}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})]})]})})})]})}const je=[{id:"fhir-test-suite",name:"FHIR Compatibility Tests",description:"Tests for FHIR R4 compatibility across all resources",tags:["FHIR","API","Integration"],testCases:[{id:"fhir-001",name:"Patient Resource Validation",description:"Validates the Patient resource against FHIR R4 profiles",component:"FHIR",category:"API",severity:"Critical",automated:!0,tags:["FHIR","Patient","Validation"]},{id:"fhir-002",name:"FHIR Search Implementation",description:"Tests the search capabilities across all FHIR resources",component:"FHIR",category:"API",severity:"High",automated:!0,tags:["FHIR","Search","Query"]},{id:"fhir-003",name:"FHIR Extensions Validation",description:"Validates all custom FHIR extensions",component:"FHIR",category:"Compliance",severity:"Medium",automated:!0,tags:["FHIR","Extensions","Compliance"]}]},{id:"phr-test-suite",name:"PHR Service Tests",description:"Tests for Personal Health Record service functionality",tags:["PHR","Integration","Patient"],testCases:[{id:"phr-001",name:"PHR Record Creation",description:"Tests creation of PHR records",component:"PHR",category:"Functional",severity:"High",automated:!0,tags:["PHR","Create"]},{id:"phr-002",name:"PHR Access Control",description:"Verifies PHR access control permissions",component:"PHR",category:"Security",severity:"Critical",automated:!0,tags:["PHR","Security","Access Control"]}]},{id:"consent-test-suite",name:"Consent Service Tests",description:"Tests for the Universal Consent Service",tags:["Consent","Integration","Security"],testCases:[{id:"consent-001",name:"Consent Recording",description:"Tests recording of patient consent",component:"Consent",category:"Functional",severity:"Critical",automated:!0,tags:["Consent","Create"]},{id:"consent-002",name:"Consent Validation",description:"Tests consent validation during data access",component:"Consent",category:"Security",severity:"Critical",automated:!0,tags:["Consent","Validation","Security"]},{id:"consent-003",name:"Consent Revocation",description:"Tests revocation of previously granted consent",component:"Consent",category:"Functional",severity:"High",automated:!0,tags:["Consent","Revoke"]}]},{id:"claims-test-suite",name:"Claims Processing Tests",description:"Tests for the Claims Submission and Processing system",tags:["Claims","Integration","Billing"],testCases:[{id:"claims-001",name:"Claim Submission",description:"Tests submission of new claims",component:"Claims",category:"Functional",severity:"High",automated:!0,tags:["Claims","Submit"]},{id:"claims-002",name:"Claim Status Check",description:"Tests claim status checking functionality",component:"Claims",category:"API",severity:"Medium",automated:!0,tags:["Claims","Status"]}]}],fe=[{id:"run-001",suiteIds:["fhir-test-suite","phr-test-suite"],startTime:Date.now()-36e5,endTime:Date.now()-358e4,inProgress:!1,results:{"fhir-001":{status:i.PASSED,startTime:Date.now()-36e5,endTime:Date.now()-3599e3,duration:1e3,assertionsTotal:15,assertionsPassed:15,assertionsFailed:0,message:"All Patient resource validations passed"},"fhir-002":{status:i.PASSED,startTime:Date.now()-3599e3,endTime:Date.now()-3598e3,duration:1e3,assertionsTotal:23,assertionsPassed:23,assertionsFailed:0,message:"Search implementations validated successfully"},"fhir-003":{status:i.FAILED,startTime:Date.now()-3598e3,endTime:Date.now()-3597e3,duration:1e3,assertionsTotal:8,assertionsPassed:6,assertionsFailed:2,message:"Custom extensions validation failed: 2 issues found"},"phr-001":{status:i.PASSED,startTime:Date.now()-3597e3,endTime:Date.now()-3596e3,duration:1e3,assertionsTotal:12,assertionsPassed:12,assertionsFailed:0,message:"PHR record creation validated successfully"},"phr-002":{status:i.PASSED,startTime:Date.now()-3596e3,endTime:Date.now()-3595e3,duration:1e3,assertionsTotal:18,assertionsPassed:18,assertionsFailed:0,message:"Access control verification complete"}},summary:{totalTests:5,passed:4,failed:1,skipped:0,duration:5e3,startTime:Date.now()-36e5,endTime:Date.now()-3595e3}},{id:"run-002",suiteId:"consent-test-suite",startTime:Date.now()-72e5,endTime:Date.now()-7195e3,inProgress:!1,results:{"consent-001":{status:i.PASSED,startTime:Date.now()-72e5,endTime:Date.now()-7199e3,duration:1e3,assertionsTotal:10,assertionsPassed:10,assertionsFailed:0,message:"Consent recording passed"},"consent-002":{status:i.PASSED,startTime:Date.now()-7199e3,endTime:Date.now()-7198e3,duration:1e3,assertionsTotal:15,assertionsPassed:15,assertionsFailed:0,message:"Consent validation during access passed"},"consent-003":{status:i.FAILED,startTime:Date.now()-7198e3,endTime:Date.now()-7197e3,duration:1e3,assertionsTotal:8,assertionsPassed:7,assertionsFailed:1,message:"Consent revocation issue detected"}},summary:{totalTests:3,passed:2,failed:1,skipped:0,duration:3e3,startTime:Date.now()-72e5,endTime:Date.now()-7197e3}}];function We(){const[s,l]=b.useState([]),[h,o]=b.useState(null),[v,u]=b.useState(null),[P,m]=b.useState(null),[N,k]=b.useState(null),[H,j]=b.useState(!0),[R,O]=b.useState(!0),[f,T]=b.useState(!0),[I,n]=b.useState(!1),[t,r]=b.useState("run-tests"),[y,S]=b.useState(!1),{data:A=je,isLoading:V}=xe({queryKey:["/api/test-suites"],queryFn:async()=>je}),{data:C=fe,isLoading:z}=xe({queryKey:["/api/test-runs"],queryFn:async()=>fe}),g=Ee({mutationFn:async c=>{S(!0),await new Promise(se=>setTimeout(se,2e3));const w={id:`run-${Date.now()}`,suiteIds:c,startTime:Date.now(),endTime:Date.now()+5e3,inProgress:!1,results:{},summary:{totalTests:0,passed:0,failed:0,skipped:0,duration:5e3,startTime:Date.now(),endTime:Date.now()+5e3}};let G=0,a=0,p=0,M=0;return c.forEach(se=>{const oe=A.find(ae=>ae.id===se);oe&&oe.testCases.forEach(ae=>{const me=Math.random();let U;me>.8?(U=i.FAILED,p++):me>.7?(U=i.SKIPPED,M++):(U=i.PASSED,a++),G++,w.results[ae.id]={status:U,startTime:Date.now(),endTime:Date.now()+1e3,duration:1e3,message:`Test ${U.toLowerCase()}`,assertionsTotal:Math.floor(Math.random()*15)+5,assertionsPassed:U===i.PASSED?Math.floor(Math.random()*15)+5:Math.floor(Math.random()*5),assertionsFailed:U===i.FAILED?Math.floor(Math.random()*3)+1:0}})}),w.summary&&(w.summary.totalTests=G,w.summary.passed=a,w.summary.failed=p,w.summary.skipped=M),S(!1),w},onSuccess:c=>{he.setQueryData(["/api/test-runs"],(w=[])=>[c,...w]),o(c),r("test-results")}}),F=()=>{if(s.length===0){alert("Please select at least one test suite to run");return}g.mutate(s)};return b.useEffect(()=>{C&&C.length>0&&!h&&o(C[0])},[C]),e.jsx(Ie,{children:e.jsxs("div",{className:"container mx-auto py-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Testing Portal"}),e.jsx("p",{className:"text-muted-foreground",children:"Run tests, view test history, and monitor system health"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(x,{variant:"secondary",onClick:()=>he.invalidateQueries({queryKey:["/api/test-suites"]}),children:"Refresh"})})]}),e.jsxs(Se,{value:t,onValueChange:r,children:[e.jsxs(Ae,{className:"grid w-full grid-cols-3",children:[e.jsxs(ie,{value:"run-tests",className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Run Tests"]}),e.jsxs(ie,{value:"test-results",className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Test Results"]}),e.jsxs(ie,{value:"test-analytics",className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Test Analytics"]})]}),e.jsx(ne,{value:"run-tests",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"md:col-span-3 space-y-4",children:[e.jsxs(D,{children:[e.jsxs(K,{children:[e.jsx(B,{children:"Available Test Suites"}),e.jsx(q,{children:'Select test suites to run and click the "Run Selected Tests" button'})]}),e.jsx(E,{children:V?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Y,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(c=>e.jsx(Be,{suite:c,isSelected:s.includes(c.id),onToggleSelect:()=>{l(w=>w.includes(c.id)?w.filter(G=>G!==c.id):[...w,c.id])}},c.id))})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{size:"lg",onClick:F,disabled:s.length===0||y,children:[y&&e.jsx(Y,{className:"mr-2 h-4 w-4 animate-spin"}),"Run Selected Tests",s.length>0&&e.jsx(d,{variant:"secondary",className:"ml-2",children:s.length})]})})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs(D,{children:[e.jsx(K,{children:e.jsx(B,{children:"Filters"})}),e.jsx(E,{children:e.jsx(qe,{testSuites:A,selectedSuites:s,setSelectedSuites:l,selectedComponent:v,setSelectedComponent:u,selectedCategory:P,setSelectedCategory:m,selectedSeverity:N,setSelectedSeverity:k,showPassed:H,setShowPassed:j,showFailed:R,setShowFailed:O,showSkipped:f,setShowSkipped:T,onlyAutomated:I,setOnlyAutomated:n})})]})})]})}),e.jsx(ne,{value:"test-results",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs(D,{children:[e.jsxs(K,{children:[e.jsx(B,{children:"Test History"}),e.jsxs(q,{children:[C.length," test runs"]})]}),e.jsx(E,{children:z?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Y,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsx("div",{className:"space-y-2",children:C.map(c=>e.jsx("div",{className:`p-3 border rounded-md cursor-pointer hover:bg-accent transition-colors ${(h==null?void 0:h.id)===c.id?"border-primary bg-accent/40":""}`,onClick:()=>o(c),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c.id}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(c.startTime).toLocaleString()})]}),c.summary&&e.jsx("div",{children:e.jsxs(d,{variant:"outline",children:[e.jsxs("span",{className:"text-green-500 mr-1",children:["✓ ",c.summary.passed]}),e.jsxs("span",{className:"text-red-500",children:["✗ ",c.summary.failed]})]})})]})},c.id))})})]})}),e.jsx("div",{className:"md:col-span-3",children:e.jsxs(D,{children:[e.jsxs(K,{children:[e.jsx(B,{children:"Test Results"}),h&&e.jsxs(q,{children:["Run ID: ",h.id]})]}),e.jsx(E,{children:h?e.jsx(Ye,{run:h,testSuites:A,showPassed:H,showFailed:R,showSkipped:f}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a test run to view results"})})]})})]})}),e.jsx(ne,{value:"test-analytics",className:"space-y-4",children:e.jsxs(D,{children:[e.jsxs(K,{children:[e.jsx(B,{children:"Test Analytics"}),e.jsx(q,{children:"Test statistics and performance metrics"})]}),e.jsx(E,{children:e.jsx(_e,{testSuites:A,testHistory:C})})]})})]})]})})}export{We as default};
